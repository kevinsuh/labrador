<% 
def us_states
  [
    ['Alabama', 'AL'],
    ['Alaska', 'AK'],
    ['Arizona', 'AZ'],
    ['Arkansas', 'AR'],
    ['California', 'CA'],
    ['Colorado', 'CO'],
    ['Connecticut', 'CT'],
    ['Delaware', 'DE'],
    ['District of Columbia', 'DC'],
    ['Florida', 'FL'],
    ['Georgia', 'GA'],
    ['Hawaii', 'HI'],
    ['Idaho', 'ID'],
    ['Illinois', 'IL'],
    ['Indiana', 'IN'],
    ['Iowa', 'IA'],
    ['Kansas', 'KS'],
    ['Kentucky', 'KY'],
    ['Louisiana', 'LA'],
    ['Maine', 'ME'],
    ['Maryland', 'MD'],
    ['Massachusetts', 'MA'],
    ['Michigan', 'MI'],
    ['Minnesota', 'MN'],
    ['Mississippi', 'MS'],
    ['Missouri', 'MO'],
    ['Montana', 'MT'],
    ['Nebraska', 'NE'],
    ['Nevada', 'NV'],
    ['New Hampshire', 'NH'],
    ['New Jersey', 'NJ'],
    ['New Mexico', 'NM'],
    ['New York', 'NY'],
    ['North Carolina', 'NC'],
    ['North Dakota', 'ND'],
    ['Ohio', 'OH'],
    ['Oklahoma', 'OK'],
    ['Oregon', 'OR'],
    ['Pennsylvania', 'PA'],
    ['Puerto Rico', 'PR'],
    ['Rhode Island', 'RI'],
    ['South Carolina', 'SC'],
    ['South Dakota', 'SD'],
    ['Tennessee', 'TN'],
    ['Texas', 'TX'],
    ['Utah', 'UT'],
    ['Vermont', 'VT'],
    ['Virginia', 'VA'],
    ['Washington', 'WA'],
    ['West Virginia', 'WV'],
    ['Wisconsin', 'WI'],
    ['Wyoming', 'WY']
  ]
end

def months
  [
    [1, 'January'],
    [2, 'February'],
    [3, 'March'],
    [4, 'April'],
    [5, 'May'],
    [6, 'June'],
    [7, 'July'],
    [8, 'August'],
    [9, 'September'],
    [10, 'October'],
    [11, 'November'],
    [12, 'December']
  ]
end

%>

<!-- unique modal form each time you open -->
<form ng-submit="submit()" ng-controller="PersonalInfoFormController" style="height: 100%;">

	<!-- PERSONAL INFO -->
	<div class="modal-header settings_modal_header basic_info personal_info_title">
		<div class="row recipient_info">
			<div>
				<div class="title_container">
					<div>
						<i class="glyphicon glyphicon-menu-left back_button" ng-click="showHomeTab()" />
						<h3 class="recipient_form_title">Edit Personal Info</h3>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="modal-body settings_modal_body modal_body">
		<div class="body">
			
			<div class="name_container form_row">
				<div class="title_container">
					<h3 class="form_input_title address_title">Your Name</h3>
				</div>
				<div class="form_input_container">
					<div class="name_container">
						<div class="first_name form_input">
							<input ng-model="currentUser.first_name" type="text" placeholder="First Name" class="name_input recipient_form_input"/>
						</div>
						<div class="last_name form_input">
							<input ng-model="currentUser.last_name" type="text" placeholder="Last Name" class="name_input recipient_form_input"/>
						</div>
					</div>
				</div>
			</div>

			<div class="form_row">
				<div class="title_container">
					<h3 class="form_input_title address_title">Email</h3>
				</div>
				<div class="form_input_container">
					<div class="form_input">
			      <input class="recipient_form_input" ng-model="currentUser.email" type="email" placeholder="Email"/>
			    </div>
				</div>
			</div>

			<div class="form_row" style="display: none;">
				<div class="title_container">
					<h3 class="form_input_title address_title">Password</h3>
				</div>
				<div class="form_input_container">
					<div class="form_input">
			      <input class="recipient_form_input" ng-model="currentUser.password" type="password" placeholder="Password"/>
			    </div>
				</div>
			</div>

			<div class="form_row">
				<div class="title_container">
					<h3 class="form_input_title address_title">Phone Number</h3>
				</div>
				<div class="form_input_container">
					<div class="form_input">
			      <input class="recipient_form_input" ng-model="currentUser.phone_number" phone-input type="text" placeholder="Phone Number"/>
			    </div>
				</div>
			</div>

			<div class="birthday_container form_row">
				<div class="title_container">
					<h3 class="form_input_title address_title">Birthday</h3>
				</div>
				<div class="birthday_input_container">
					<div class="month_container form_input_container">
						<div class="form_input">
							<select class="recipient_form_input select_input state_input" ng-model="currentUser.birth_month">
					  		<option value="">Month</option>
					  		<% months.each { |num, name| %>
					  			<option value="<%= num %>"><%= name %></option>
								<% } %>
					  	</select>
					  	<i class="glyphicon glyphicon-menu-down month_menu_down"></i>
				    </div>
					</div>
					<div class="day_container form_input_container">
						<div class="form_input">
				      <input class="recipient_form_input" ng-model="currentUser.birth_day" type="number" placeholder="Day"/>
				    </div>
					</div>
					<div class="year_container form_input_container">
						<div class="form_input">
				      <input class="recipient_form_input" ng-model="currentUser.birth_year" type="number" placeholder="Year"/>
				    </div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- MAILING ADDRESSES -->
	<div class="modal-header settings_modal_header basic_info personal_info_title">
		<div class="row recipient_info">
			<div class="title_container">
				<div>
					<h3 class="recipient_form_title">Mailing Addresses</h3>
				</div>
			</div>
		</div>
	</div>

	<div class="modal-body settings_modal_body addresses_modal_body modal_body">
		<div class="body">
			<div class="addresses_body">

					<div class="row existing_addresses_container" ng-repeat="address in currentUser.addresses">

						<div class="title_container address_title_container">
							<h3 class="form_input_title">Address {{$index + 1}}</h3>
						</div>

						<div class="is_primary_container form_input_container">
							<div class="is_primary form_input">
					      <input class="recipient_form_input checkbox_input" id="addressInput{{$index}}" ng-model="address.is_primary" type="checkbox"></input>
					      <label class="form_input_label" for="addressInput{{$index}}">SET AS MAIN ADDRESS</label>
					    </div>
						</div>

						<div class="street_container primary_street_container form_input_container">
							<div class="street form_input">
					      <input class="street_input recipient_form_input" ng-model="address.street" type="text" placeholder="Address Line 1"/>
					    </div>
						</div>

						<div class="street_container form_input_container">
							<div class="street form_input">
					      <input class="street_input recipient_form_input" ng-model="address.suite" type="text" placeholder="Address Line 2"/>
					    </div>
						</div>

						<div class="address_other form_input_container form_field">
							<div class="city field">
								<div class="form_input">
						      <input class="recipient_form_input city_input" ng-model="address.city" type="text" placeholder="City"/>
						    </div>
							</div>

							<div class="state field">
								<div class="form_input">
									<select class="recipient_form_input select_input state_input" ng-model="address.state">
							  		<option value="">ST</option>
							  		<% us_states.each { |state, abrv| %>
							  			<option value="<%= state %>"><%= abrv %></option>
										<% } %>
							  	</select>
							  	<i class="glyphicon glyphicon-menu-down state_menu_down"></i>
								</div>
							</div>

							<div class="zipcode field">
								<div class="form_input">
						      <input class="zipcode_input recipient_form_input" ng-model="address.zipcode" type="text" placeholder="Zip"/>
						    </div>
							</div>
						</div>
						<div class="form_input_container address_options_container form_field">
							<div class="new_address field" ng-show="!newAddressForm.show && ($index+1) == currentUser.addresses.length">
								<div class="form_input">
									<span class="form_button add_address" ng-click="showNewAddressForm()"><i class="glyphicon glyphicon-plus add-occasion-glyph"></i> NEW ADDRESS</span>
								</div>
							</div>
							<div class="delete_address field">
								<div class="form_input">
									<span class="form_button delete_address" ng-click="deleteAddress(address)">DELETE ADDRESS</span>
								</div>
							</div>
						</div>
					</div>

					<div class="row new_addresses_container" ng-show="newAddressForm.show">

						<div class="is_primary_container form_input_container">
							<div class="is_primary form_input">
					      <input class="recipient_form_input checkbox_input" id="newUserAddressInput" ng-model="newUserAddress.address.is_primary" type="checkbox"></input>
					      <label class="form_input_label" for="newUserAddressInput">SET AS MAIN ADDRESS</label>
					    </div>
						</div>

						<div class="street_container primary_street_container form_input_container">
							<div class="street form_input">
					      <input class="street_input recipient_form_input" ng-model="newUserAddress.address.street" type="text" placeholder="Address Line 1"/>
					    </div>
						</div>

						<div class="street_container form_input_container">
							<div class="street form_input">
					      <input class="street_input recipient_form_input" ng-model="newUserAddress.address.suite" type="text" placeholder="Address Line 2"/>
					    </div>
						</div>

						<div class="address_other form_input_container form_field">
							<div class="city field">
								<div class="form_input">
						      <input class="recipient_form_input city_input" ng-model="newUserAddress.address.city" type="text" placeholder="City"/>
						    </div>
							</div>

							<div class="state field">
								<div class="form_input">
									<select class="recipient_form_input select_input state_input" ng-model="newUserAddress.address.state">
							  		<option value="">ST</option>
							  		<% us_states.each { |state, abrv| %>
							  			<option value="<%= state %>"><%= abrv %></option>
										<% } %>
							  	</select>
							  	<i class="glyphicon glyphicon-menu-down state_menu_down"></i>
								</div>
							</div>

							<div class="zipcode field">
								<div class="form_input">
						      <input class="zipcode_input recipient_form_input" ng-model="newUserAddress.address.zipcode" type="text" placeholder="Zip"/>
						    </div>
							</div>
						</div>
						<div class="form_input_container address_options_container form_field">
							<div class="new_address field">
								<div class="form_input">
									<span class="form_button add_address" ng-click="createAddress(newUserAddress)"><i class="glyphicon glyphicon-plus add-occasion-glyph"></i> NEW ADDRESS</span>
								</div>
							</div>
							<div class="delete_address field">
								<div class="form_input">
									<span class="form_button delete_address" ng-click="deleteAddress(newUserAddress)">DELETE ADDRESS</span>
								</div>
							</div>
						</div>
					</div>
				</div>
		</div>
	</div>


</form>
