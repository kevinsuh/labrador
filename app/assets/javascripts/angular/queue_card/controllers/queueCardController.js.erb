(function() {
	
	/**
	 * this controller is specific to the managing relationship within the "Greeting Central" module
	 */
	var app = angular.module('card-queue').controller("QueueCardController", function($rootScope, $location, $window, $stateParams, $scope, $state, $timeout, $modal, recipients, cards, occasions, usSpinnerService) {

		// infinite scroll once this angular controller is loaded
		ScaleContentToDevice();

		// get all the selected recipients and their occasions
		$scope.cardColors = ['Red', 'Beige', 'Light Purple'];
		
		// select the occasion
		$scope.selectOccasion = function(occasion) {
			console.log($scope.selectedRecipientIDs);
			console.log("yay occasion selected!");
			console.log(occasion.occasion.name);

			console.log($scope.occasionsForSelectedRecipients);

			// next page
			$scope.queueCardPage.name = "Color";
		}

		// custom function to return days from today -- of next calendar year
		$scope.daysFromToday = function(month, day) {
			
			today = new Date();
			daysFromToday = daydiff(today, parseDateForNextOccasion(month, day));
			if (daysFromToday > 1) {
				return daysFromToday + " days";
			} else {
				return daysFromToday + " day";
			}
		}

		
	});

})();
