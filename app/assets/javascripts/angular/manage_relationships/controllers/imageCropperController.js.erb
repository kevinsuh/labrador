(function() {

    angular.module('card-queue').controller("ImageCropperCtrl", function($scope)
    {

        $scope.newImageDisplay = false;

        $scope.hideDisplay = function() {
            $scope.newImageDisplay = false;

            var file = base64ToBlob($scope.myCroppedImage.replace('data:image/png;base64,',''), 'image/jpeg');
        }

        var handleFileSelect=function(evt) {
          var file=evt.currentTarget.files[0];
          var reader = new FileReader();
          reader.onload = function (evt) {
            $scope.$apply(function($scope){
              $scope.myImage=evt.target.result;
            });
          };
          $scope.newImageDisplay = true;
          console.log("no?");
          reader.readAsDataURL(file);
        };
        angular.element(document.querySelector('#fileInput')).on('change',handleFileSelect);
        

    });

})();
