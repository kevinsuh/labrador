(function() {
	
	/**
	 * 		main controller to handle layout-level functionality
	 */
	 
	var app = angular.module('card-queue').controller("MainController", function($rootScope, $document, $scope, $state, $timeout, $window, user) {

			$scope.user = user;

			$scope.logOut = function() {
				user.logOut().success(function(data) {
					console.log(data);
	        $window.location.href = "/";
	      });
			}
			$scope.state = $state;

			currentUrl = $window.location.hash;
			var headerTitle;
			if (currentUrl == '#/' || currentUrl == '') { // home page
				headerTitle = "Greeting Central";
			} else if (currentUrl == '#/my_people') {
				headerTitle = "My People";
			} else if (currentUrl == '#/queued_cards') {
				headerTitle = 'Queued Cards';
			} else if (currentUrl == '#/checkout') {
				headerTitle = 'Checkout';
			} else {
				headerTitle = "Cardagain";
			}
			$scope.headerTitle = headerTitle;



	});

})();